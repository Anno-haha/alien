# 模块说明文档

本文档详细说明了射击外星人游戏的模块化结构和各个文件的作用。

## 📁 文件结构概览

```
alien_shooter/
├── main.py          # 🚀 程序入口点
├── game.py          # 🎮 游戏主逻辑和状态管理
├── entities.py      # 👾 游戏实体类定义
├── background.py    # 🌌 背景效果管理
├── menu.py          # 📋 菜单系统管理
├── upgrade_window.py # 🔧 独立升级选择窗口
├── config.py        # ⚙️ 游戏配置和常量
├── requirements.txt # 📦 依赖包列表
├── README.md       # 📖 项目说明文档
└── MODULES.md      # 📚 模块说明文档（本文件）
```

## 📋 模块详细说明

### 🚀 main.py - 程序入口点
**作用**: 程序的启动入口，负责创建游戏实例并启动游戏循环
**主要功能**:
- 导入Game类
- 创建游戏对象
- 启动游戏主循环
- 异常处理

**使用方法**: `python main.py`

### ⚙️ config.py - 游戏配置
**作用**: 集中管理所有游戏常量、配置参数和颜色定义
**包含内容**:
- 屏幕尺寸和帧率设置
- 游戏对象尺寸配置
- 移动速度参数
- 战斗系统配置
- 颜色定义
- UI配置
- 游戏文本

**优势**: 
- 便于调整游戏平衡性
- 统一管理配置参数
- 避免魔法数字

### 👾 entities.py - 游戏实体类
**作用**: 定义所有游戏对象的类和行为
**包含类**:
- `Player`: 玩家飞机类
  - 移动控制
  - 边界检查
  - 碰撞检测
  - 绘制功能
  
- `Alien`: 外星人类
  - 智能移动（向下+左右随机）
  - 血量系统
  - 伤害处理
  - 血量条显示
  
- `Bullet`: 子弹类
  - 向上移动
  - 碰撞检测
  - 颜色循环绘制（红、绿、蓝）

- `Explosion`: 爆炸特效类
  - 粒子系统动画
  - 多彩爆炸效果
  - 自动生命周期管理

**设计原则**: 每个类职责单一，便于扩展和维护

### 🌌 background.py - 背景效果管理
**作用**: 管理动态背景效果，创造飞机前进的视觉效果
**主要功能**:
- `BackgroundManager`类
  - 初始化背景矩形
  - 更新矩形位置
  - 动态生成新矩形
  - 移除超出屏幕的矩形
  - 绘制背景效果

**效果**: 淡灰色矩形向上移动，模拟飞机前进

### 📋 menu.py - 菜单系统
**作用**: 管理游戏的各种菜单界面
**主要功能**:
- `MenuManager`类
  - 开始菜单显示
  - 游戏模式选择
  - 升级选择菜单
  - 菜单事件处理

**菜单类型**:
- 开始菜单：选择经典模式或随机模式

### 🔧 upgrade_window.py - 独立升级窗口
**作用**: 管理独立的升级选择窗口，不影响主游戏流程
**主要功能**:
- `UpgradeWindow`类
  - 独立窗口创建和管理
  - 多线程升级选择
  - 非阻塞式用户交互
  - 自动窗口定位和样式

**技术特点**:
- 多线程实现：升级选择不阻塞主游戏
- 独立窗口：与主游戏窗口分离
- 队列通信：安全的线程间数据传递

### 🎮 game.py - 游戏主逻辑
**作用**: 游戏的核心控制器，管理游戏状态和主循环
**主要功能**:
- 游戏初始化和模式选择
- 输入处理
- 游戏对象生成（外星人、子弹）
- 游戏对象更新
- 碰撞检测
- 游戏状态管理
- 升级系统管理
- 绘制管理
- 主游戏循环

**游戏模式**:
- 经典模式：达到100分获胜
- 随机模式：无限游戏，每100分触发升级

**设计特点**:
- 模块化方法设计
- 清晰的状态管理
- 分离的绘制逻辑
- 动态升级系统

## 🔄 模块间关系

```
main.py
    ↓
game.py
    ↓
├── entities.py (Player, Alien, Bullet)
├── background.py (BackgroundManager)
└── config.py (所有常量和配置)
```

## 🛠️ 扩展指南

### 添加新的游戏实体
1. 在`entities.py`中创建新类
2. 在`config.py`中添加相关配置
3. 在`game.py`中集成新实体的逻辑

### 修改游戏参数
1. 直接编辑`config.py`中的常量
2. 无需修改其他文件

### 添加新的视觉效果
1. 在`background.py`中扩展或创建新的管理器类
2. 在`game.py`中集成新效果

### 添加新的游戏功能
1. 在`game.py`中添加相应的方法
2. 根据需要更新其他模块

## 🎯 模块化的优势

1. **可维护性**: 代码按功能分离，便于定位和修改
2. **可扩展性**: 新功能可以独立开发和集成
3. **可读性**: 每个文件职责明确，代码结构清晰
4. **可测试性**: 各模块可以独立测试
5. **配置灵活性**: 游戏参数集中管理，便于调整
6. **团队协作**: 不同开发者可以专注于不同模块

## 🚀 运行说明

确保所有模块文件都在同一目录下，然后运行：
```bash
python main.py
```

游戏将自动导入所有必要的模块并启动。
